<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">

    <body>

        <ui:composition template="/sistema/template/template.xhtml">

            <ui:define name="content">
                <h:form id="fcancelar">
                    <p:commandButton 
                        id="cbcancelar"
                        ajax="false" 
                        action="#{atividadesBean.cancelar}" 
                        value="Cancelar"/>
                </h:form>

                <h:form id="Cargo">


                    <p:panel
                        id="pprincipal"
                        header="Atividades">

                        <h:panelGrid 
                            id="pgprincipal"
                            columns="2">  

                            <h:outputLabel
                                value="Título: * "/>
                            <p:inputText
                                id="titulo"
                                value="#{atividadesBean.atividades.titulo}"
                                label="Título: "
                                required="true"
                                style="width: 200px"/>

                            <h:outputLabel
                                value="Data Inicio: "/>
                            <p:inputMask mask="99/99/9999" id="msk_Data1" size="15"
                                         value="#{atividadesBean.atividades.dataCadastro}"
                                         required="true" requiredMessage="O campo Data Início é obrigatório.">
                                <f:convertDateTime type="date" pattern="dd/MM/yyyy" timeZone="America/Sao_Paulo"/>
                            </p:inputMask>

                            <h:outputLabel
                                value="Data Previsão Início: "/>
                            <p:inputMask mask="99/99/9999" id="msk_Data2" size="15"
                                         value="#{atividadesBean.atividades.dataPrevisaoInicio}"
                                         required="true" requiredMessage="O campo Data Início é obrigatório.">
                                <f:convertDateTime type="date" pattern="dd/MM/yyyy" timeZone="America/Sao_Paulo"/>
                            </p:inputMask>

                            <h:outputLabel
                                value="Data Previsão Fim: "/>
                            <p:inputMask mask="99/99/9999" id="msk_Data3" size="15"
                                         value="#{atividadesBean.atividades.dataPrevisaoFim}"
                                         required="true" requiredMessage="O campo Data Início é obrigatório.">
                                <f:convertDateTime type="date" pattern="dd/MM/yyyy" timeZone="America/Sao_Paulo"/>
                            </p:inputMask>

                            <h:outputLabel
                                value="Data Efetiva Conclusão: "/>
                            <p:inputMask mask="99/99/9999" id="msk_Data4" size="15"
                                         value="#{atividadesBean.atividades.dataEfetivaConclusao}"
                                         required="true" requiredMessage="O campo Data Início é obrigatório.">
                                <f:convertDateTime type="date" pattern="dd/MM/yyyy" timeZone="America/Sao_Paulo"/>
                            </p:inputMask>

                            <h:outputLabel
                                value="Descrição: "/>
                            <p:inputTextarea
                                id="idacao"
                                value="#{atividadesBean.atividades.descricao}"
                                /> 

                            <h:outputLabel
                                value="Objetivos Gerais: "/>
                            <p:inputTextarea
                                id="idacao2"
                                value="#{atividadesBean.atividades.obsGerais}"
                                />

                            <h:outputLabel
                                value="Projeto: "/>
                            <p:selectOneMenu
                                id="sprj" value="#{atividadesBean.atividades.projetosID}"
                                converter="projetoConverter"
                                style="width: 200px">
                                <f:selectItems value="#{atividadesBean.listaItensProjeto}"/>
                            </p:selectOneMenu>

                            <h:outputLabel
                                value="Situação: "/>
                            <p:selectOneMenu
                                id="somsituacao" value="#{atividadesBean.atividades.situacao}"
                                label="#{atividadesBean.situacao}"
                                style="width: 200px">
                                <f:selectItems value="#{atividadesBean.situacao}"/>
                            </p:selectOneMenu>
                            <p:message id="errosituacao2" for="somsituacao"/>

                            <p:commandButton 
                                ajax="false" 
                                id="cbsalvar"
                                value="Salvar" 
                                action="#{atividadesBean.salvar}"
                                update="Cargo">


                            </p:commandButton>
                        </h:panelGrid>  
                    </p:panel>
                </h:form>

            </ui:define>

        </ui:composition>

    </body>
</html>
