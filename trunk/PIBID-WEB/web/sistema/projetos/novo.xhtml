<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">

    <body>

        <ui:composition template="/sistema/template/template.xhtml">

            <ui:define name="content">
                <h:form id="fcancelar">
                    <p:commandButton 
                        id="cbcancelar"
                        ajax="false" 
                        action="#{projetosBean.cancelar}" 
                        value="Cancelar"/>
                </h:form>

                <h:form id="formProjeto">
                    <p:growl id="growl" showDetail="true" sticky="true" /> 

                    <p:panel
                        id="pprincipal"
                        header="Projeto">

                        <h:panelGrid 
                            id="pgprincipal"
                            columns="3">  

                            <h:outputLabel
                                id="olnome"
                                for="itnome"
                                value="Nome da Instituição: * "/>
                            <p:inputText
                                id="itnome"
                                value="#{projetosBean.projetos.nome}"
                                label="Nome"
                                required="true"
                                style="width: 200px"/>
                            <p:message id="erroNome" for="itnome"/>

                            <h:outputLabel
                                id="oltitulo"
                                for="itemailprinc"
                                value="Título: * "/>
                            <p:inputText
                                id="itemtitulo"
                                value="#{projetosBean.projetos.tituloProjeto}"
                                label="Título"
                                required="true"
                                style="width: 200px"/>
                            <p:message id="erroTitulo" for="itemtitulo"/>

                            <h:outputLabel
                                id="oldatainicial"
                                for="dataIni"
                                value="Data Inicio: "/>
                            <p:inputMask mask="99/99/9999" id="msk_Dataini" size="15"
                                         value="#{projetosBean.projetos.dataInicio}"
                                         required="true" requiredMessage="O campo Data Início é obrigatório.">
                                <f:convertDateTime type="date" pattern="dd/MM/yyyy" timeZone="America/Sao_Paulo"/>
                            </p:inputMask>
                            <p:message id="erroDataIni" for="oldatainicial"/>

                            <h:outputLabel
                                id="oldatafim"
                                for="dataFim"
                                value="Data de Conclusão: "/>
                            <p:inputMask mask="99/99/9999" id="msk_Datafim" size="15"
                                         value="#{projetosBean.projetos.dataConclusao}"
                                         required="true" requiredMessage="O campo Data de Conclusão é obrigatório.">
                                <f:convertDateTime type="date" pattern="dd/MM/yyyy" timeZone="America/Sao_Paulo"/>
                            </p:inputMask>
                            <p:message id="erroDatafim" for="oldatafim"/>

                            <h:outputLabel
                                id="olcurso"
                                for="itCurso"
                                value="Curso: "/>
                            <p:inputText
                                id="idCurso"
                                value="#{projetosBean.projetos.curso}"
                                label="Curso"
                                />
                            <p:message id="erroCurso" for="olcurso"/>

                            <h:outputLabel
                                id="olcoordenador"
                                for="idCoord"
                                value="Nome do Coordenador: "/>
                            <p:inputText
                                id="idCoord"
                                value="#{projetosBean.projetos.nomeCoordenador}"
                                label="Nome do Coordenador"/>
                            <p:message id="erroCoord" for="olcoordenador"/>

                            <h:outputLabel
                                id="olemailprinc"
                                for="itemailprinc"
                                value="Email principal: * "/>
                            <p:inputText
                                id="itemailprinc"
                                value="#{projetosBean.projetos.emailPrincipalCoordenador}"
                                label="Email Principal"
                                required="true"
                                style="width: 200px"/>
                            <p:message id="erroEmailprinc" for="olemailprinc"/>

                            <h:outputLabel
                                id="olemailsec"
                                for="itemailsec"
                                value="Email secundário: "/>
                            <p:inputText
                                id="itemailsec"
                                value="#{projetosBean.projetos.emailSecundarioCoordenador}"
                                label="Email Secundário"
                                style="width: 200px"/>
                            <p:message id="erroEmailsec" for="itemailsec"/>                                                              

                            <h:outputLabel
                                id="oltelefoneres"
                                for="ittelefoneres"
                                value="Telefone Residencial: "/>
                            <p:inputMask
                                id="ittelefoneres"
                                value="#{projetosBean.projetos.telefoneResidencialCoordenador}"
                                label="Telefone Residencial"
                                mask="(99) 9999-9999"
                                style="width: 200px"/>
                            <p:message id="errotelefoneres" for="oltelefoneres"/>

                            <h:outputLabel
                                id="oltelefonecel"
                                for="ittelefonecel"
                                value="Telefone Celular: "/>
                            <p:inputMask
                                id="ittelefonecel"
                                value="#{projetosBean.projetos.telefoneCelularCoordenador}"
                                label="Telefone Celular"
                                mask="(99) 9999-9999"
                                style="width: 200px"/>
                            <p:message id="errotelefonecel" for="oltelefonecel"/>

                            <h:outputLabel
                                id="idlattes"
                                for="itemlattes"
                                value="Link Lattes: "/>
                            <p:inputText
                                id="idcvlattes"
                                value="#{projetosBean.projetos.curriculoLattesCoordenador}"
                                label="Currículum Lattes"
                                style="width: 200px"/>
                            <p:message id="erroLattes" for="idlattes"/>                                                              

                            <h:outputLabel
                                id="idprop"
                                for="itemProposta"
                                value="Proposta: "/>
                            <p:inputTextarea
                                id="idProposta"
                                value="#{projetosBean.projetos.apresentacaoProposta}"
                                />
                            <p:message id="erroprop" for="idprop"/>   

                            <h:outputLabel
                                id="acao"
                                for="itemAcao"
                                value="Ações Previstas: "/>
                            <p:inputTextarea
                                id="idacao"
                                value="#{projetosBean.projetos.acoesPrevistas}"
                                />
                            <p:message id="erroAcao" for="acao"/>   

                            <h:outputLabel
                                id="result"
                                for="itemResultado"
                                value="Resultados Pretendidos: "/>
                            <p:inputTextarea
                                id="idresult"
                                value="#{projetosBean.projetos.resultadosPretendidos}"
                                />
                            <p:message id="erroResult" for="result"/>   

                            <h:outputLabel
                                id="olsituacao"
                                for="somsituacao"
                                value="Situação: "/>
                            <p:selectOneMenu
                                id="somsituacao" value="#{projetosBean.projetos.situacao}"
                                label="#{projetosBean.situacao.toString}"
                                style="width: 200px">
                                <f:selectItems value="#{projetosBean.situacao}"/>
                            </p:selectOneMenu>
                            <p:message id="errosituacao" for="somsituacao"/>


                            <p:commandButton 
                                ajax="false" 
                                id="cbsalvar"
                                value="Salvar" 
                                action="#{projetosBean.salvar}"
                                update="growl">


                            </p:commandButton>
                        </h:panelGrid>  
                    </p:panel>
                </h:form>

            </ui:define>

        </ui:composition>

    </body>
</html>
